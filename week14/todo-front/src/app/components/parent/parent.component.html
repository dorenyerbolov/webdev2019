<body>
  <ng-container *ngIf="!loggedIn">
      <div>
          <div>
            <form>
                <label for="username"><b>Username</b></label>
                <input type="text" placeholder="enter username" [(ngModel)]="username" name="username" required>
                <label for="psw"><b>Password</b></label>
                <input type="password" placeholder="enter password" [(ngModel)]="password" name="pwd" required>
                <button class="loginbtn" (click)="auth()">LOG IN</button>
            </form>
          </div>
        </div>
  </ng-container>
  <ng-container *ngIf="loggedIn">
      <button class="loginbtn" (click)="logout()">LOG OUT</button>
      <ng-container *ngIf="!loading">
          Loading...
        </ng-container>
      
        <ng-container *ngIf="loading">
          <div style="margin-bottom: 10px;">
            <input type="text" [(ngModel)]="taskName" style="border:2px solid black; border-radius: 12px; font-size: 24px;">
            <button (click)="createTaskList()" class="button">CREATE</button>
          </div>
          <div>
            <div *ngFor="let t of taskLists" class="task-list">
              <span (click)="getTasks(t)">
                <input type="text" [(ngModel)]="t.name" class="tasks">
              </span>
              <span style="color: orange" (click)="deleteTaskList(t)"> DELETE</span>
              <span style="color: green" (click)="updateTaskList(t)"> UPDATE</span>
            </div>
      
          </div>
      
          <div>
            <h1>{{curTaskList}}</h1>
            <div *ngFor="let p of tasks" class="tasks">{{p.name}} - {{p.status}}</div>
          </div>
        </ng-container>
  </ng-container>
</body>